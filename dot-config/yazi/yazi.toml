[mgr]
show_hidden     = true
ratio           = [ 2, 3, 3 ]
linemode				= "size_and_mtime"

[preview]
max_width	= 1000
max_height	= 1000

[opener]
edit = [
	{ run = "${EDITOR:-vi} %s", desc = "$EDITOR", block = true, for = "macos" },
]
# play = [
# 	{ run = 'open "$@"', orphan = true, for = "macos" },
# ]
# open = [
# 	{ run = 'open "$@"', desc = "Open" },
# ]


[plugin]
  prepend_preloaders = [
    # Replace magick, image, video with mediainfo
    { mime = "{audio,video,image}/*", run = "mediainfo" },
    { mime = "application/subrip", run = "mediainfo" },
    # Adobe Illustrator, Adobe Photoshop is image/adobe.photoshop, already handled above
    { mime = "application/postscript", run = "mediainfo" },
  ]
  
	prepend_previewers = [
    # Replace magick, image, video with mediainfo
    { mime = "{audio,video,image}/*", run = "mediainfo"},
    { mime = "application/subrip", run = "mediainfo" },
    # Adobe Illustrator, Adobe Photoshop is image/adobe.photoshop, already handled above
    { mime = "application/postscript", run = "mediainfo" },
		# There are more extensions which are supported by mediainfo.
  	# Just add file's MIME type to `previewers`, `preloaders` above.
  	# https://mediaarea.net/en/MediaInfo/Support/Formats
	
		{ mime = "application/{*zip,tar,bzip2,7z*,rar,xz,zstd,java-archive}", run = "ouch --show-file-icons" },

		# Setup for plugin 'rich-preview'
		{ url = "*.csv", run = "rich-preview" }, # for csv files
    { url = "*.md", run = "rich-preview" }, # for markdown (.md) files
    { url = "*.rst", run = "rich-preview" } , # for restructured text (.rst) files
    { url = "*.ipynb", run = "rich-preview" }, # for jupyter notebooks (.ipynb)
    { url = "*.json", run = "rich-preview" }, # for json (.json) files
		# { url = "*.lang_type", run = "rich-preview"} # for particular language files eg. .py, .go., .lua, etc.
		
		# Setup for plugin 'eza-preview'
		{ url = "*/", run = "eza-preview" },
	]

	prepend_fetchers = [
		# Setup for plugin 'git'
		{ id = "git", url = "*", run = "git" },
		{ id = "git", url = "*/", run = "git" },

	]
  
# For a large file like Adobe Illustrator, Adobe Photoshop, etc
# you may need to increase the memory limit if no image is rendered.
# https://yazi-rs.github.io/docs/configuration/yazi#tasks
[tasks]
  image_alloc      = 1073741824        # = 1024*1024*1024 = 1024MB


# prepend_previewers = [
# 	# Archive previewer
# 	{ mime = "application/*zip",            run = "ouch" },
# 	{ mime = "application/x-tar",           run = "ouch" },
# 	{ mime = "application/x-bzip2",         run = "ouch" },
# 	{ mime = "application/x-7z-compressed", run = "ouch" },
# 	{ mime = "application/x-rar",           run = "ouch" },
# 	{ mime = "application/x-xz",            run = "ouch" },
# 	{ name = "*/", run = "eza-preview" },
# 	{ name = "*.csv", run = "rich-preview"}, 		# for csv files
# 	{ name = "*.md", run = "rich-preview" }, 		# for markdown (.md) files
# 	{ name = "*.ipynb", run = "rich-preview"}, 	# for jupyter notebooks (.ipynb)
# 	# { name = "*.json", run = "rich-preview"}, 	# for json (.json) files
# 	{ mime = "{image,audio,video}/*", run = "mediainfo"},
# 	{ mime = "application/x-subrip", run = "mediainfo"},
# ]
#
# [[plugin.prepend_fetchers]]
# id   = "git"
# name = "*"
# run  = "git"
#
# [[plugin.prepend_fetchers]]
# id   = "git"
# name = "*/"
# run  = "git"
